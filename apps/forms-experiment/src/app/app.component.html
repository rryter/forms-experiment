<ng-container *ngIf="vm$ | async as vm">
  <div class="jumbotron">
    <h1 class="display-4">TDRF!</h1>
    <p class="lead">Template Driven Reactive Forms.</p>
    <hr class="my-4" />
    <p>
      This is a demo page, to illustrate the concept of using the best of both
      worlds, template driven and reactive forms.
    </p>
  </div>

  <div class="row">
    <div class="col">
      <div class="col"><h1>Add user</h1></div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <form
        style="position: relative"
        [model]="vm.user"
        [suite]="suite"
        #form="ngForm"
        (ngSubmit)="submit()"
      >
        <fieldset>
          <div inputWrapper>
            <label class="form-group">
              <span class="form-group__label">First name</span>
              <input
                type="text"
                [ngModel]="vm.user.firstName"
                name="firstName"
              />
            </label>
          </div>

          <div inputWrapper>
            <label class="form-group">
              <span class="form-group__label">Last name</span>
              <input type="text" [ngModel]="vm.user.lastName" name="lastName" />
            </label>
          </div>
        </fieldset>

        <app-address
          [showZipCode]="vm.showZipCode"
          [street]="vm.user.address.street"
          [city]="vm.user.address.city"
          [zipcode]="vm.user.address.zipcode"
          [number]="vm.user.address.number"
          [country]="vm.user.address.country"
        >
        </app-address>

        <fieldset ngModelGroup="passwords" inputWrapper>
          <h2>Password</h2>

          <label class="form-group">
            <span class="form-group__label">Password</span>
            <input
              type="password"
              [disabled]="vm.passwordDisabled"
              [ngModel]="vm.user.passwords.password"
              name="password"
            />
          </label>
          <label class="form-group">
            <span class="form-group__label">Confirm password</span>
            <input
              type="password"
              [disabled]="vm.passwordDisabled"
              [ngModel]="vm.user.passwords.confirmPassword"
              name="confirmPassword"
            />
          </label>
        </fieldset>

        <button class="btn btn-light" type="button" (click)="reset()">
          reset
        </button>
        &nbsp;
        <button class="btn btn-light" type="button" (click)="resetEmpty()">
          clear
        </button>
        &nbsp;
        <button class="btn btn-primary">Submit form</button>
        <!-- 
    <pre>
      {{ vm | json }}
    </pre> -->
      </form>
    </div>
    <div class="col">
      <h3>Form Status</h3>

      <div class="card">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Property</th>
              <th scope="col">Value</th>
            </tr>
          </thead>
          <tbody>
            <tr [class]="form.dirty ? 'active' : 'inactive'">
              <td class="text-end">dirty</td>
              <td>{{ form.dirty }}</td>
            </tr>
            <tr [class]="form.pristine ? 'active' : 'inactive'">
              <td class="text-end">pristine</td>
              <td>{{ form.pristine }}</td>
            </tr>
            <tr [class]="form.valid ? 'active' : 'inactive'">
              <td class="text-end">valid</td>
              <td>{{ form.valid }}</td>
            </tr>
            <tr [class]="form.disabled ? 'active' : 'inactive'">
              <td class="text-end">disabled</td>
              <td>{{ form.disabled }}</td>
            </tr>
            <tr [class]="form.enabled ? 'active' : 'inactive'">
              <td class="text-end">enabled</td>
              <td>{{ form.enabled }}</td>
            </tr>
            <tr [class]="form.invalid ? 'active' : 'inactive'">
              <td class="text-end">invalid</td>
              <td>{{ form.invalid }}</td>
            </tr>
            <tr [class]="form.pending ? 'active' : 'inactive'">
              <td class="text-end">pending</td>
              <td>{{ form.pending }}</td>
            </tr>
            <tr [class]="form.untouched ? 'active' : 'inactive'">
              <td class="text-end">untouched</td>
              <td>{{ form.untouched }}</td>
            </tr>
            <tr [class]="form.submitted ? 'active' : 'inactive'">
              <td class="text-end">submitted</td>
              <td>{{ form.submitted }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <hr />
      <h3>Load User</h3>
      <button class="btn btn-light" (click)="loadUser()">Load User</button>
    </div>
  </div>
</ng-container>
